<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        créer un nouveau fichier 03-exo.html
        appeler l'api https://jsonplaceholder.typicode.com/users 
        appeler cette api avec la méthode GET 
        une fois que vous avez récupérer les informations data 
        afficher dans la page web name / email / phone de chaque user 
    -->
    <div></div>
    <script>
        const requete = new XMLHttpRequest()

        requete.open("GET", "https://jsonplaceholder.typicode.com/users ");
        requete.send(); // envoie information dans le body
        // requete.setRequestHeader(); // 
        requete.onload = function(){
            const reponse = requete.responseText;
            const data = JSON.parse( requete.responseText);
            console.log(data);
            document.querySelector("div").innerHTML = genererPage(data);
            //console.log(reponse);
        }

        function genererPage(data){
            return data.map(element => {
                return `<article>
                    <h2>${element.name}</h2>
                    <p>${element.email}</p>
                    <p>${element.phone}</p>
                    <hr>
                    </article>`
            }).join("")
        }
        
    </script>
</body>
</html>